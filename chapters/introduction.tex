\section{Introduction}\label{intro}
There has been an energy grid for over 60 years now. It provides power by producing energy from fossil fuels such as coal, oil and natural gasses. However, these fuels are non-renewable and being used up quickly. Fossil fuels also have considerable drawbacks; among these are environmental, political and capacity issues, therefore they have to be replaced as energy source \cite{friedman2008hot}. Renewable energy sources such as wind, water, solar and tidal energy \cite{Tromly2001} are environment friendly, sustainable, and are therefore a good replacement for the fossil fuels.

Incorporating renewable energy sources into the energy grid, and phasing out fossil fuels as an energy source will be a big step towards a more sustainable energy network, but it will not solve all problems the energy grid has. The energy grid we use today is operated via electromechanical systems that can only handle a limited amount of different power sources and uses centralised energy generation (in fossil fuel power plants) because of this. The energy grid also has a fairly limited amount of sensors in the network that can be used to, for instance, detect power failures and thus needs to be constantly monitored and manually repaired if broken. The solution to these shortcomings of the electromechanical energy grid is called `smart grid'. The US Department of Energy (DoE) defines a smart grid as follows \cite{doe}: 
 
\begin{quote}
`Smart grid' generally refers to a class of technologies that people are using to bring utility electricity delivery systems into the 21st century, using computer-based remote control and automation.
\end{quote}

The smart grid consists of a digital network and is completely run by computers instead of requiring human operators to intervene like the electromechanical energy grid does \cite{Moslehi2010}. By using computers the smart grid can provide a more reliable energy service. This is because the computers can detect and react faster to changes, such as an imminent power shortage or mechanical defects, using automated sensors and algorithms the electromechanical grid does not have. This is very much needed because the centralised energy generation and one way energy distribution that are key features of the classic energy grid will hamper the incorporation of multiple smaller renewable energy resources. The power supplied by renewable energy sources is not constant, the amount can change depending on for instance the weather conditions \cite{RamchurnVitelingumRogersJennings2014}. User demands are not constant either.

The smart grid will be able to handle distributed energy generation and can facilitate two-way communication and energy flows, using ICT solutions, such as digital sensors and logical programs. However, this raises security and privacy concerns, as there is a lot of information being transferred. These are some challenges involving the smart grid that need to be addressed, which will be discussed in the remainder of this chapter.

The smart grid needs to manage the supply and demand of energy effectively. If there is a too large discrepancy between the amount of energy that is available and the amount that is requested, either a lot of superfluous energy will be wasted, or power outages could occur. So typically one would want to make sure the supply and demand of energy match as closely as possible at all times. This is easier said than done because not all power sources provide a consistent amount of energy. Solar panels, for instance, yield varying amounts of energy depending on the time of day, or due to weather conditions \cite{RamchurnVitelingumRogersJennings2014}. The smart grid will have to incorporate logic to predict weather conditions and the consequences for the amount of energy that can be supplied. These algorithms also have to take into account that user demands also vary from time to time. In the evening a lot of energy is being used, but in the night energy consumption is at a low. A surplus in energy is not that much of a problem, energy sources can be turned off when unneeded, however energy shortage is more difficult to cope with.

A way to help the smart grid control the energy demand at a local level are smart meters. Smart meters are a modern version of classic energy meters. Apart from measuring energy usage they can also communicate with other smart meters, collect information about and control home appliances. This means a consumer might activate the washing machine, but the meters decides when it is best to start the machine, looking at current and predicted energy supply and tariffs  \cite{DepuruWangDevabhaktuni2011a}. This way the smart meter is capable of temporarily decreasing the load on the grid. This 'management of demand' can be developed even further when the smart meter is able to use batteries. A household could supply energy to the grid instead of using energy from the grid, by discharging a battery (e.g. from an \ac{ev}) and thus creating a power surplus for a moderate amount of time \cite{MwasiluJustoKimEtAl2014}. This way energy consumers are converted into energy producers, and their energy bill will be reduced for any energy they return to the grid. These users are called `prosumers'.

Another way to control energy consumption at a local level, is by adapting the behaviour of humans. Theoretically speaking surges in energy demand can be reduced (or entirely avoided) if all users spread out their energy usage over the course of the day. However, practically it is very hard to change human behaviour. In a study where users were asked if they would be willing to reduce their energy usage, by showering for a maximum of five minutes in the morning, most participants reacted negatively \cite{GouldenBedwellRennick-EgglestoneEtAl2014}. More subtle approaches, such as using coloured lights on outlets indicating the current electricity price, or sending consumers periodic messages regarding their energy usage \cite{AyresRasemanShih2012}, received more positive reactions. Unfortunately, less intrusive forms of feedback are often not very effective and only reduce the total energy consumption marginally. Humans need incentives in order to be enticed to change energy consumption patterns. Smart pricing is a form of such an incentive. Peak rates in wholesale energy prices are already being used \cite{SamadiMohsenian-RadSchoberEtAl2012}, however they go by unnoticed. Most end users are charged with an average price, and unaware of their energy usage during peak hours, as a result they do not change their consumption patterns. Users need to be made more aware of their energy usage during peak hours, and they need to make manual changes \cite{Mohsenian-RadLeon-Garcia2010} or energy consumption scheduling should be (partially) automated \cite{SamadiMohsenian-RadSchoberEtAl2012}.

In a smart grid a lot of information is being distributed to optimise the demand and the supply of energy. More and more types of energy sources are being used. There are large energy sources such as wind energy parks, fossil fuel power plants and nuclear power plants. Added to this list are consumers who have solar panels on their roofs, hospitals which have a backup emergency generator \cite{Kumagai2012}, and \acp{ev} owned by prosumers. When someone arrives at home the \ac{ev} is plugged in and starts charging, but it can also return energy to the grid in cooperation with for instance a smart meter as mentioned above.

Existing systems have to be altered to communicate with the smart grid. The smart grid needs to be able to predict how much energy a given source will produce. When a source cannot communicate with the smart grid, it will be harder to incorporate it into the grid efficiently. If the energy sources are enabled to communicate information to a central point, the control center could manage the usage of the energy sources. However, if all of these \acp{der} are used individually they might account for more problems than they solve. The smart grid will have problems with efficiency if it has to control a huge amount of \acp{der}. A solution to this problem is grouping local areas with \acp{der} into smaller 'microgrids', this way the control load on the rest of the smart grid is reduced \cite{HatziargyriouAsanoIravaniMarnay2007}. The microgrid acts as a single entity in the larger smart grid. It supplies the aggregated surplus energy of its local \acp{der} to the rest of the grid. Another way of solving this problem is grouping energy sources into \acp{vpp}. A \ac{vpp} can then in turn distribute all power and use a single energy tariff \cite{NikonowiczMilewski2012}.

When deploying a smart grid, several security and privacy concerns arise.  If a part of the network (e.g. a smart meter) is compromised, users are allowed to manipulate their usage data or energy cost. The grid itself is also prone to large-scale attacks, such as a DDoS attack \cite{McDanielMcLaughlin2009a}. Additionally, the amounts of data a smart grid requires introduces the issue of the consumer's privacy. Energy usage recorded in the meter may expose certain customer behaviour, since certain activities have a significant energy footprint. You could derive, for instance, when someone is home or not \cite{Molina-MarkhamShenoyFuEtAl2010}.

The problems mentioned above can be approached using logic or algorithms, but they are rather complex. Game theory can be used as a tool to model solutions for some of these challenges, or as a way to simplify them efficiently, using mathematics and cooperation between AI \cite{myerson2013game}, it can for instance be used to implement the smart tariffs that have been mentioned. 

The rest of this paper is structured as follows: in Chapter \ref{gametheory} we will discuss the use of game theoretic tools in with smart grids. Chapters \ref{vpp}, \ref{microgrids} and \ref{dsm} are about some of the challenges that can be solved using game theory. We finally conclude in Chapter \ref{conclusion} and outline some remaining challenges.