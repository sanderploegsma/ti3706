\section{\aclp{vpp}}\label{vpp}

While individual \acp{der} have the option to sell (portions of) their produced energy to the grid, the number of \acp{der} in the network and their accompanying unreliability makes it hard to account for them in production schedules \cite{RobuKotaChalkiadakisEtAl2012}. It is essential that the grid's independent suppliers are reliable, since the failure to meet production targets could seriously compromise the smooth operation of the network as a whole \cite{ChalkiadakisRobuKotaEtAl2011}. The main concept of a \ac{vpp} illustrates a centralised control structure which connects, controls and visualises a work of these distributed generators \cite{NikonowiczMilewski2012}. Note that these generators can be both fossil and renewable energy sources \cite{LombardiPowalkoRudion2009}. The \ac{vpp} keeps track of its sources' supplies and is able to determine the price. 

\acp{vpp} can be very efficient, as they allow the combination of different energy sources to generate a continuous supply. In other words, resources with different weaknesses and strengths are combined in a complementary way \cite{Koeppel2003}. For example, when a wind turbine and solar cells are combined, the \ac{vpp} is less subject to changing weather conditions \cite{Tromly2001, Kumagai2012, MashhourMoghaddas-Tafreshi2011, NikonowiczMilewski2012}. 

A \ac{vpp} may use one of these approaches \cite{NikonowiczMilewski2012}:
\begin{itemize}
	\item Centralised control, where a single \ac{vpp} is responsible for the logic and management of \acp{der}, pricing and supply.
	\item Distributed control, where one or more local \acp{vpp} control a limited number of \acp{der} while delegating certain decisions upwards to a higher level \ac{vpp}.
	\item Fully distributed control, where each \ac{der} acts as an independent and intelligent agent.
\end{itemize}

Within the smart grid, the first approach is probably too simple, the resulting \ac{vpp} will become huge. Instead, it would be more feasible to use different \acp{vpp} with different targets, such as minimisation of generation costs and maximisation of profits \cite{LombardiPowalkoRudion2009}. The smart grid will then draw its energy from an aggregate of these \acp{vpp}, to deliver to its consumers. 

To coordinate production and pricing in a fully distributed \ac{vpp}, some form of agent cooperation is needed. To achieve this, mechanism design and cooperative game theory can be combined to derive a pricing mechanism, as well as ways to allocate revenues across agents and manage \ac{vpp} membership \cite{ChalkiadakisRobuKotaEtAl2011}. 

\subsection{\ac{der} production estimates}
\label{vpp:productionestimates}
To make sure a \ac{vpp} is reliable, it should be able to predict a certain level of energy supply to a microgrid or smart grid. The main issue with this structure is that every \ac{vpp} needs to announce how much energy it is able to produce. Due to the fluctuating nature of renewable energy sources, the prediction of the energy production is not an easy procedure \cite{LombardiPowalkoRudion2009}.  

To get a better view of the energy production estimates within a group of individual \ac{der} agents, a pricing system may be introduced that encourages these agents to provide the \ac{vpp} with accurate estimates \cite{ChalkiadakisRobuKotaEtAl2011}. The proposed system not only encourages large \ac{vpp} sizes, but also promotes truthfulness by basing the payment on the accuracy of the supply prediction. This ensures that both \acp{vpp} and \acp{der} have no incentive to provide a wrong or biased estimate.

Furthermore, \cite{RobuKotaChalkiadakisEtAl2012} notes that a confidence interval is preferred over single point estimates, to remove the uncertainty of those estimates. It also proposes scoring rules, guaranteeing maximum reward if and only if a \ac{der} agent accurately reports its expectation over the prediction error it may make.  

\subsection{Coalitional games}
\label{vpp:coalition}
\ac{vpp} membership poses another risk in a stable energy production. Should one or more individual \ac{der} agents managed by a \ac{vpp} decide to leave, the decrease in that \ac{vpp}'s production power may be significant. 

To ensure that the production of a \ac{vpp} remains relatively stable, a payoff scheme may be used that is based on a coalitional stability concept called \emph{the core} \cite{Myerson1991}. In short, a coalitional game with a subset of \acp{der} (the coalition) can be formed \cite{MihailescuVasiraniOssowski2011}. In this game, allocations of the maximum payoff can be determined to make sure agents do not break that coalition to improve their payoff even further\cite{ChalkiadakisRobuKotaEtAl2011, YeungPoonWu1999, SaadHanPoor2011}. Such an allocation belongs to the core of that game, and will ensure that a given set of \ac{der} agents will keep working together.
